# Animal Fight - 動物守護者桌遊設計專案

## 專案概述
兒童桌遊，支援兩種遊戲模式：
- **合作闘關**：家長當 DM，2 位孩子合作闖關（RPG 風格）
- **動物大對決**：1v1 淘汰賽，快節奏對戰

適合 6-12 歲兒童。Print & Play 自製桌遊格式。

## 專案結構
```
animal-fight/
├── .gitignore
├── CLAUDE.md                 # 專案架構與技術決策
├── README.md                 # 環境設置與快速開始
├── card/                     # 卡片相關檔案
│   ├── final_cards.html      # A4 全頁列印版（16 張動物卡）
│   ├── generate_from_jsonl.py      # 圖片批次生成腳本
│   ├── .env.example          # API Key 範本
│   ├── images/               # 動物圖片 + icon（16+6 張）
│   └── img-prompt/           # 圖片生成 prompt
│       ├── animal-ai-prompts.md    # 原始 10 隻動物 prompt
│       └── animal-ai-prompts-3.md  # 新增 6 隻動物 prompt
├── docs/
│   ├── prompt.txt            # 原始需求 prompt
│   ├── review-result.md      # 審查報告
│   └── design-versions/      # 設計迭代版本（6 個）
│       ├── animal-cl.md      # Claude v1
│       ├── animal-ge.md      # Gemini v1
│       ├── animal-gpt.md     # GPT v1 (規格書)
│       ├── animal-cl-2.md    # Claude v2
│       ├── animal-cla-2.md   # Claude 整合優化版 (最佳)
│       └── animal-gpt-2.md   # GPT v2
├── game/
│   ├── rulebook.md           # 合作闘關規則書
│   └── battle-rules.md       # 動物大對決淘汰賽規則
└── sim/                      # 對戰模擬器
    ├── battle_sim.py         # 蒙地卡羅模擬程式
    └── results/              # 模擬結果 CSV
```

## 技術決策

### 卡片設計
- **5 屬性**：力量、速度、攻擊、防禦、智慧（骰子 1-5）
- **骰子 6**：特殊能力觸發，顯示加成 icon 和分數
- **特殊能力加成**：固定 +4 分，分配到 2-3 個屬性

### 數值平衡準則
- 5 屬性總和：23-28
- 弱項：至少 1 個 ≤ 3
- 亮點：至少 1 個 ≥ 7
- 原型：坦克/速度/輸出/智慧/全能

### 已建立動物（16 張）

| 動物 | 總和 | 原型 | 特殊加成 |
|------|:----:|:----:|----------|
| 非洲獅 | 28 | 輸出 | 力+2, 攻+2 |
| 非洲象 | 28 | 坦克 | 攻+1, 防+3 |
| 貓頭鷹 | 23 | 智慧 | 智+2, 防+1, 速+1 |
| 獵豹 | 26 | 速度 | 攻+1, 防+1, 速+2 |
| 穿山甲 | 23 | 坦克 | 防+2, 速+2 |
| 海豚 | 27 | 智慧 | 智+2, 防+2 |
| 遊隼 | 23 | 速度 | 防+2, 攻+1, 智+1 |
| 科摩多龍 | 26 | 輸出 | 攻+1, 防+3 |
| 大猩猩 | 28 | 全能 | 力+1, 防+2, 速+1 |
| 蜜獾 | 27 | 全能 | 防+3, 智+1 |
| 加拉巴哥象龜 | 23 | 坦克 | 防+3, 智+1 |
| 黑斑羚 | 23 | 速度 | 速+2, 防+2 |
| 蘇門答臘虎 | 27 | 輸出 | 力+1, 攻+2, 智+1 |
| 灣鱷 | 27 | 輸出 | 力+2, 防+2 |
| 北極狐 | 25 | 智慧 | 速+1, 防+1, 智+2 |
| 紅袋鼠 | 24 | 全能 | 力+1, 速+1, 攻+2 |

### 待建立動物（21 張）
> 詳見 battle-rules.md 待建立動物清單

## 遊戲模式

### 合作闘關（rulebook.md）
- 判定：`2d6 + 屬性數值`
- 難度：DC 10（優勢）/ 12（標準）/ 14（劣勢）
- 生命：共享 5 愛心
- 勝利：累積 5 前進標記 → 終局

### 動物大對決（battle-rules.md）
- 賽制：淘汰賽，每輪 3 戰 2 勝
- 擲骰：雙方各擲 2d6，比總和
- 骰到相同：該屬性 ×2
- 骰到 1 個 6：特殊能力加成觸發
- 骰到雙 6：重骰 1 次，特殊能力觸發
- 平手：加賽

## 當前狀態
- [x] 需求分析
- [x] 多版本設計
- [x] 審查評分
- [x] 選定最佳版本
- [x] 專案結構整理
- [x] A4 列印版 HTML（final_cards.html）
- [x] 圖片生成腳本（generate_from_jsonl.py）
- [x] 動物大對決規則（battle-rules.md）
- [x] 卡片改版：骰子6 顯示特殊加成
- [x] 數值平衡調整：總和 23-28、屬性分布優化
- [x] AI 圖片生成（16 張動物 + 6 張 icon，via Codex CLI + gpt-image-1.5）
- [x] 6 張新動物天賦技能設計
- [x] 對戰模擬器（100,000 次淘汰賽模擬）
- [ ] 印刷測試
- [ ] 實際遊玩測試

## 對戰模擬結果

100,000 次淘汰賽模擬奪冠率（前 5 名）：
| 排名 | 動物 | 奪冠率 |
|:----:|------|-------:|
| 1 | 非洲獅 | 14.3% |
| 2 | 大猩猩 | 13.3% |
| 3 | 非洲象 | 13.0% |
| 4 | 蜜獾 | 9.5% |
| 5 | 蘇門答臘虎 | 8.6% |

詳細數據見 `sim/results/`

## 後續擴充（不納入 MVP）
- 裝備卡
- 狀態效果
- 更多動物（待建立清單 21 張）
- Boss 專屬招式表
