# Animal Fight - 動物守護者桌遊設計專案

## 專案概述
兒童桌遊，支援兩種遊戲模式：
- **合作闘關**：家長當 DM，2 位孩子合作闖關（RPG 風格）
- **動物大對決**：1v1 淘汰賽，快節奏對戰

適合 6-12 歲兒童。Print & Play 自製桌遊格式。

## 專案結構
```
animal-fight/
├── .gitignore
├── CLAUDE.md                 # 專案架構與技術決策
├── README.md                 # 環境設置與快速開始
├── archive/v1/               # v1 數值封存（歷史備份）
├── card/                     # 卡片相關檔案
│   ├── final_cards.html      # A4 全頁列印版（16 張動物卡，v2.1 數值）
│   ├── generate_from_jsonl.py      # 圖片批次生成腳本
│   ├── .env.example          # API Key 範本
│   ├── images/               # 動物圖片 + icon（16+6 張）
│   └── img-prompt/           # 圖片生成 prompt
│       ├── animal-ai-prompts.md    # 原始 10 隻動物 prompt
│       └── animal-ai-prompts-3.md  # 新增 6 隻動物 prompt
├── docs/
│   ├── prompt.txt            # 原始需求 prompt
│   ├── review-result.md      # 審查報告
│   ├── archetype-template.md # 原型屬性模板（草案）
│   ├── attribute-principles.md # 屬性判斷原則
│   ├── attributes-v2.md      # v2.1 完整屬性數值表（主要參考）
│   └── design-versions/      # 設計迭代版本（6 個）
│       ├── animal-cl.md      # Claude v1
│       ├── animal-ge.md      # Gemini v1
│       ├── animal-gpt.md     # GPT v1 (規格書)
│       ├── animal-cl-2.md    # Claude v2
│       ├── animal-cla-2.md   # Claude 整合優化版 (最佳)
│       └── animal-gpt-2.md   # GPT v2
├── game/
│   ├── rulebook.md           # 合作闘關規則書
│   └── battle-rules.md       # 動物大對決淘汰賽規則（v2.1 數值）
└── sim/                      # 對戰模擬器
    ├── battle_sim.py         # 蒙地卡羅模擬程式（v2.1 數值）
    └── results/              # 模擬結果 CSV
```

## 技術決策

### 卡片設計
- **5 屬性**：力量、速度、攻擊、防禦、智慧（骰子 1-5）
- **骰子 6**：特殊能力觸發，顯示加成 icon 和分數
- **特殊能力加成**：固定 +4 分，分配到 2-3 個屬性

### 數值平衡準則（v2.1）
- 5 屬性總和：16-30（依動物強度分級）
- 弱項：至少 1 個 ≤ 3
- 亮點：至少 1 個 ≥ 7
- 原型：坦克/速度/輸出/智慧/全能
- 屬性判斷原則見 docs/attribute-principles.md
- 完整數值表見 docs/attributes-v2.md

### 已建立動物（16 張，v2.1 數值）

| 動物 | 力量 | 速度 | 攻擊 | 防禦 | 智慧 | 總和 | 特殊加成 |
|------|:----:|:----:|:----:|:----:|:----:|:----:|----------|
| 非洲獅 | 7 | 6 | 8 | 4 | 5 | 30 | 力+2, 攻+2 |
| 非洲象 | 9 | 2 | 3 | 8 | 8 | 30 | 攻+1, 防+3 |
| 大猩猩 | 8 | 4 | 4 | 5 | 9 | 30 | 力+1, 防+2, 速+1 |
| 灣鱷 | 8 | 3 | 9 | 7 | 2 | 29 | 力+2, 防+2 |
| 蜜獾 | 5 | 4 | 6 | 7 | 6 | 28 | 防+3, 智+1 |
| 蘇門答臘虎 | 7 | 5 | 8 | 4 | 4 | 28 | 力+1, 攻+2, 智+1 |
| 海豚 | 4 | 7 | 3 | 3 | 8 | 25 | 智+2, 防+2 |
| 科摩多龍 | 6 | 3 | 7 | 6 | 3 | 25 | 攻+1, 防+3 |
| 獵豹 | 4 | 9 | 6 | 2 | 4 | 25 | 攻+1, 防+1, 速+2 |
| 北極狐 | 3 | 7 | 3 | 4 | 7 | 24 | 速+1, 防+1, 智+2 |
| 紅袋鼠 | 5 | 6 | 5 | 4 | 3 | 23 | 力+1, 速+1, 攻+2 |
| 遊隼 | 2 | 9 | 5 | 1 | 4 | 21 | 防+2, 攻+1, 智+1 |
| 黑斑羚 | 3 | 8 | 2 | 3 | 3 | 19 | 速+2, 防+2 |
| 貓頭鷹 | 2 | 5 | 4 | 2 | 6 | 19 | 智+2, 防+1, 速+1 |
| 穿山甲 | 3 | 2 | 1 | 9 | 2 | 17 | 防+2, 速+2 |
| 加拉巴哥象龜 | 3 | 1 | 1 | 9 | 2 | 16 | 防+3, 智+1 |

### 待建立動物（21 張）
> 詳見 battle-rules.md 待建立動物清單
> 原型模板草案見 docs/archetype-template.md（未定案）

## 遊戲模式

### 合作闘關（rulebook.md）
- 判定：`2d6 + 屬性數值`
- 難度：DC 10（優勢）/ 12（標準）/ 14（劣勢）
- 生命：共享 5 愛心
- 勝利：累積 5 前進標記 → 終局

### 動物大對決（battle-rules.md）
- 賽制：淘汰賽，每輪 1 戰定勝負（進階：3 戰 2 勝）
- 擲骰：雙方各擲 2d6，比總和
- 骰到相同：該屬性 ×2
- 骰到 1 個 6：特殊能力加成觸發
- 骰到雙 6：重骰 1 次，特殊能力觸發
- 平手：加賽

## 當前狀態
- [x] 需求分析
- [x] 多版本設計
- [x] 審查評分
- [x] 選定最佳版本
- [x] 專案結構整理
- [x] A4 列印版 HTML（final_cards.html）
- [x] 圖片生成腳本（generate_from_jsonl.py）
- [x] 動物大對決規則（battle-rules.md）
- [x] 卡片改版：骰子6 顯示特殊加成
- [x] 數值平衡調整：總和 23-28、屬性分布優化
- [x] AI 圖片生成（16 張動物 + 6 張 icon，via Codex CLI + gpt-image-1.5）
- [x] 6 張新動物天賦技能設計
- [x] 對戰模擬器（100,000 次淘汰賽模擬）
- [x] v2.1 數值調整（科學合理性優先）
- [ ] 印刷測試
- [ ] 實際遊玩測試

## 對戰模擬結果（v2.1）

淘汰賽奪冠率（100,000 次模擬）：
| 排名 | 動物 | 奪冠率 | 1v1 勝率 |
|:----:|------|-------:|--------:|
| 1 | 非洲獅 | 20.6% | 74.9% |
| 2 | 非洲象 | 15.8% | 69.3% |
| 3 | 大猩猩 | 15.7% | 70.5% |
| 4 | 蜜獾 | 12.1% | 68.3% |
| 5 | 灣鱷 | 11.9% | 66.7% |
| 6 | 蘇門答臘虎 | 9.9% | 65.5% |

> v2.1 數值依科學合理性調整，強弱差距更明顯

詳細數據見 `sim/results/tournament_v2.1.csv`

## 後續擴充（不納入 MVP）
- 裝備卡
- 狀態效果
- 更多動物（待建立清單 21 張）
- Boss 專屬招式表
